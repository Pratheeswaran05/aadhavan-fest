<div class="p-2">
  <!-- Tabs -->
  <div class="flex justify-center mb-6">
    <button 
      (click)="selectTab('inside')" 
      [ngClass]="selectedTab === 'inside' ? 'bg-blue-500 text-white' : 'bg-gray-300 text-black'"
      class="px-4 py-2 mx-2 rounded-lg">
      Inside College
    </button>
    <button 
      (click)="selectTab('outside')" 
      [ngClass]="selectedTab === 'outside' ? 'bg-blue-500 text-white' : 'bg-gray-300 text-black'"
      class="px-4 py-2 mx-2 rounded-lg">
      Outside College
    </button>
  </div>

  <!-- Video Layout -->
  <ng-container *ngIf="selectedTab === 'inside' || selectedTab === 'outside'">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-2 sm:p-6">
      <div 
        *ngFor="let video of selectedTab === 'inside' ? videosInside : videosOutside"
        class="relative bg-white shadow-md rounded-2xl overflow-hidden group aspect-video"
      >
        <!-- Thumbnail (fallback) -->
        <img
          [src]="video.thumbnail_url"
          alt="Video thumbnail"
          class="absolute w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-0 sm:block hidden"
        />
  
        <!-- Desktop video (hover interaction) -->
        <video
          #videoRef
          class="absolute w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300 sm:block hidden"
          loop
          muted
          playsinline
          preload="metadata"
          (mouseenter)="playAndUnmute(videoRef)"
          (mouseleave)="pauseAndMute(videoRef)"
        >
          <source [src]="'http://localhost:5000/' + video.video_url" type="video/mp4" />
        </video>
  
        <!-- Mobile video (autoplay) -->
        <video
          class="block sm:hidden w-full h-full object-cover pointer-events-none"
          autoplay
          muted
          loop
          playsinline
          preload="metadata"
        >
          <source [src]="'http://localhost:5000/' + video.video_url" type="video/mp4" />
        </video>
  
        <!-- Duration label -->
        <div class="absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-md z-10">
          {{ video.duration }}
        </div>
  
        <!-- Video Title & Description -->
        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3 z-10">
          <h3 class="text-white font-semibold text-base sm:text-lg truncate">
            {{ video.title }}
          </h3>
          <p class="text-gray-300 text-xs sm:text-sm mt-1 line-clamp-2">
            {{ video.description }}
          </p>
        </div>
  
        <!-- Optional: Share Button (Mobile Friendly) -->
        <div class="absolute top-2 right-2 z-10">
          <button 
            (click)="shareVideo(video)" 
            class="bg-black/60 text-white text-sm px-2 py-1 rounded-full hover:bg-black/80"
          >
            Share
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  
</div>