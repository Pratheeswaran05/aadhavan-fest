<!-- Full Background Wrapper -->
<div class="min-h-screen bg-bg2 bg-cover bg-center -mt-[34px] flex flex-col items-center">

  <!-- Tabs -->
  <div class="flex flex-wrap justify-center items-center bg-black/50 backdrop-blur-sm text-white rounded-full px-6 py-3 space-x-4 w-fit mx-auto mt-10">
    <button 
      (click)="selectTab('district')" 
      [ngClass]="selectedTab === 'district' ? 'bg-red-500 text-white px-4 py-2 rounded-full font-bold' : 'hover bg-gray-300 px-4 py-2 rounded-full'"
      class="text-sm transition-all font-bold">
      District
    </button>
    <button 
      (click)="selectTab('state')" 
      [ngClass]="selectedTab === 'state' ? 'bg-red-500 text-white px-4 py-2 rounded-full font-bold' : 'hover bg-gray-300 px-4 py-2 rounded-full'"
      class="text-sm transition-all font-bold">
      State
    </button>
    <button 
      (click)="selectTab('national')" 
      [ngClass]="selectedTab === 'national' ? 'bg-red-500 text-white px-4 py-2 rounded-full font-bold' : 'hover bg-gray-300 px-4 py-2 rounded-full'"
      class="text-sm transition-all font-bold">
      National
    </button>
  </div>

  <!-- Black Card with Videos -->
  <div class="bg-black/50 backdrop-blur-lg rounded-2xl p-6 shadow-xl w-full max-w-6xl mx-auto mt-6">

    <!-- Video Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div 
        *ngFor="let video of (selectedTab === 'district' ? videosDistrict : selectedTab === 'state' ? videosState : videosNational)"
        class="relative rounded-2xl overflow-hidden backdrop-blur-md bg-black/50 shadow-lg group aspect-video"
      >

        <!-- Thumbnail or Video -->
        <div class="relative w-full h-full">
          <img
            *ngIf="!video.isPlaying"
            [src]="'http://localhost:5000/uploads/thumbnails/' + video.thumbnail"
            alt="Video Thumbnail"
            class="w-full h-full object-cover"
          />
          <video
            *ngIf="video.isPlaying"
            [src]="'http://localhost:5000/uploads/videos/' + video.video_url"
            class="w-full h-full object-cover"
            controls
            autoplay
            muted
            playsinline
          ></video>

          <!-- Play Button -->
          <button 
            *ngIf="!video.isPlaying"
            (click)="playVideo(video)"
            class="absolute inset-0 flex items-center justify-center text-6xl text-white bg-black/40 hover:bg-black/60 transition"
          >
            <i class="fas fa-play-circle"></i>
          </button>

        </div>

        <!-- Video Title -->
        <div class="bg-black/70 p-2 text-center">
          <h3 class="text-white font-semibold text-base truncate">
            {{ video.title }}
          </h3>
        </div>

      </div>
    </div>

  </div>

  <!-- Pagination -->
  <div class="flex justify-center items-center mt-6 space-x-2 text-white">
    <button 
      (click)="goToPage(currentPage - 1)" 
      [disabled]="currentPage === 1" 
      class="hover:text-red-500">&lt;</button>
    
    <button 
      *ngFor="let page of [].constructor(totalPages); let i = index" 
      (click)="goToPage(i + 1)"
      [class.bg-red-500]="i + 1 === currentPage" 
      [class.text-white]="i + 1 === currentPage" 
      class="w-8 h-8 rounded-full text-center hover:text-red-500">
      {{ i + 1 }}
    </button>
    
    <button 
      (click)="goToPage(currentPage + 1)" 
      [disabled]="currentPage === totalPages" 
      class="hover:text-red-500">&gt;</button>
  </div>
<!-- FontAwesome Icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

